{% extends 'base.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}

  <div class="container p-2">

    <div class="text-center mt-3">
        <h6 class="display-3 text-capitalize"> Dashboard <h6>
        <div class="heading-line mb-1"></div>
    </div>

    <br>

    <div class="card">
      <div class="card-header">
          {{current_user.name}}
      </div>
      <div class="card-body">
        <h5 class="card-title">Welcome to your user dashboard</h5>
        <p class="card-text">
          <strong>Name: </strong>{{current_user.name}}<br>
          <strong>Username: </strong>{{current_user.username}}<br>
          <strong>Email: </strong>{{current_user.email}}<br>
          <strong>Type: </strong>{{current_user.type}}<br>
          <strong>Date Created: </strong>{{current_user.date_created.strftime('%Y-%m-%d')}}<br>
        </p>
        <a href="{{url_for('update_user', id = current_user.id)}}" class="btn btn-outline-dark btn-sm">Update User</a>
        <a href="{{url_for('delete_user', id = current_user.id )}}" class="btn btn-outline-danger btn-sm" >Delete User</a>
        <a href="{{url_for('log_out')}}" class="btn btn-outline-dark btn-sm">Logout</a>
      </div>
    </div>

    <br>

    <div class="card">
      <div class="card-header">
        Update Your Profile
      </div>
      <div class="card-body">
          <form action="/dashboard" method="POST">
            {{ form.hidden_tag() }}

            {{ form.name.label(class = "form-label") }}
            {{ form.name(class = "form-control",value=current_user.name) }}
            <br>

            {{ form.username.label(class = "form-label") }}
            {{ form.username(class = "form-control",value=current_user.username) }}
            <br>

            {{ form.email.label(class = "form-label") }}
            {{ form.email(class = "form-control",value=current_user.email) }}
            <br>

            {{ form.password_hash.label(class = "form-label") }}
            {{ form.password_hash(class = "form-control", value=current_user.password) }}
            <br>

            {{ form.submit(class = "btn btn-outline-dark btn-sm" ) }}

        </form>
      </div>
    </div>
  </div>


{% endblock %}
